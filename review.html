<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>wdd131 - Product Review Form</title>

    <meta name="author" content="Alma Sotelo-Rodriguez">
    <meta name="description" content="WDD-131 - Week 05 Assignment. A review page to store ansewers from form">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Geist:wght@300&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="styles/form.css">
    <link rel="stylesheet" href="styles/form-large.css">

    <script src="scripts/footerinfo.js" defer></script>

</head>

<body>
    <main>
        <header>
            <h1>Product Review</h1>
        </header>
        <div id="review">
            <p>You have submitted <span id="reviewCount"></span> reviews.</p>
        </div>
        <footer>
            <p>&copy;<span id="currentyear"></span> Alma Sotelo | USA </p>
            <p><span id="lastModified"></span></p>
        </footer>
    </main>

    <script>

        document.addEventListener("DOMContentLoaded", () => {

            // Only increment if form was submitted
            if (localStorage.getItem("submitted") === "true") {

                let reviewCount = +localStorage.getItem("reviewCounter") || 0;
                reviewCount++;
                localStorage.setItem("reviewCounter", reviewCount);
                localStorage.removeItem("submitted");
            }

            document.querySelector("#reviewCount").textContent = reviewCount = localStorage.getItem("reviewCounter") || 0;

        });

    </script>

</body>

</html>